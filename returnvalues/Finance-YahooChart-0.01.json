[
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub getchart {\n    my %param = @_;\n    my %retval;\n    $ERROR = \"\";\n    foreach (keys %DEFAULTCHART) {\n\t$param{$_} = $DEFAULTCHART{$_} if ! defined $param{$_};\n\t$param{$_} = substr($param{$_},0,1) if $_ ne \"symbol\";\n\t$param{$_} = lc $param{$_};\n    }\n    $param{'size'} = \"b\" if $param{'size'} eq \"l\";\n    if (!$param{'symbol'}) {\n\t$ERROR = \"No symbol provided\";\n\treturn;\n    }\n    if ((!$param{'type'}) || (\"iw1235\" !~ /$param{'type'}/)) {\n\t$ERROR = \"Invalid type: \\\"$param{'type'}\\\"\";\n\treturn;\n    }\n    if ((!$param{'size'}) || (\"bs\" !~ /$param{'size'}/)) {\n\t$ERROR = \"Invalid size: \\\"$param{'size'}\\\"\";\n\treturn;\n    }\n    if ($param{'include'} && (\"ms\" !~ /$param{'include'}/)) {\n\t$ERROR = \"Invalid include: \\\"$param{'include'}\\\"\";\n\treturn;\n    }\n    $retval{'url'} = $ICURL.($param{'size'} eq \"b\" ? \"b\":\"t\").\n\t\"?s=$param{'symbol'}\" if $param{'type'} eq \"i\";\n    $retval{'url'} = $ICURL.($param{'size'} eq \"b\" ? \"w\":\"v\").\n\t\"?s=$param{'symbol'}\" if $param{'type'} eq \"w\";\n    if (\"1235\" =~ $param{'type'}) {\n\tif ($param{'type'} eq \"1\") {\n\t    $retval{'url'} = $CURL.($param{'size'} eq \"b\" ? \"1y\":\"0b\");\n\t}\n\telsif ($param{'size'} eq \"s\") {\n\t    $ERROR = \"Size not available\";\n\t    return;\n\t}\n\telse {\n\t    $retval{'url'} = $CURL.$param{'type'}.\n\t\t($param{'type'} eq \"3\" ? \"m\":\"y\");\n\t}\n\t$retval{'url'} .= $param{'include'} if $param{'size'} eq \"b\";\n\t$retval{'url'} .= \"/\".substr($param{'symbol'},0,1).\"/\".\n\t    $param{'symbol'}.\".gif\";\n    }\n    if ($retval{'url'}) {\n\t($retval{'width'},$retval{'height'}) =\n\t    $param{'size'} eq \"b\" ? (512,288):(192,96);\n    }\n    else {\n\t$ERROR = \"Can't make that kind of chart\";\n\treturn;\n    }\n    return %retval;\n}",
      "file" : "/var/tmp/arv_wOIAsm/Finance-YahooChart-0.01/YahooChart.pm",
      "package" : "Finance::YahooChart"
   }
]
