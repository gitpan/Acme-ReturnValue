[
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub grab {    \n\n\n      my $class = shift;\n      \n     \n      my ($dbh, $db_name, $pt) = @_;\n      my %info;\n\n      croak \"param #1 must be a blessed Sybase::DBlib reference\" if ref($dbh) ne \"Sybase::DBlib\";\n\n\n     $pt = [ $pt ] unless( ref $pt);\n    \n    \n     my @odata = ();\n     unless($db_name) {\n        for my $t (@$pt) {\n            my ($db, $own, $tab) = split(/\\./,$t);\n            push @odata, \"$db\\t$tab\";\n        }\n     } else {\n        for my $t (@$pt) { push @odata, \"$db_name\\t$t\"; }\n     }\n\n\n\n      foreach my $tb (@odata) {\n         my ($db_name, $tab_name) = split(/\\t/, $tb);\n         $db_name  =~ s/\\s+//g;\n         $tab_name =~ s/\\s+//g;\n \n         my $sql_string=<<EOF;\n\n  \n         my @h_pointers =  $dbh->nsql($sql_string, \"HASH\") ;\n         if($DB_ERROR) {carp \"$DB_ERROR\"}\n\n         for my $col (@h_pointers) {\n            my $col_name= $col->{col_name};\n            $info{$db_name}->{$tab_name}->{$col_name}->{col_type}       = $col->{type_name};\n            $info{$db_name}->{$tab_name}->{$col_name}->{col_len}        = $col->{col_len};\n            $info{$db_name}->{$tab_name}->{$col_name}->{col_id}         = $col->{col_order};\n            $info{$db_name}->{$tab_name}->{$col_name}->{col_allownulls} = $col->{allownulls};\n            $info{$db_name}->{$tab_name}->{$col_name}->{col_prec}       = $col->{prec};\n\n            if($col->{utype} > 100 ) {\n\n               my $sql = <<EOF;\n               my @name = $dbh->nsql($sql,\"HASH\");\n               if($DB_ERROR) {carp \"$DB_ERROR\" }\n\n               $info{$db_name}->{$tab_name}->{$col_name}->{col_type}     = $name[0]->{name};\n               $info{$db_name}->{$tab_name}->{$col_name}->{col_usertype} = $col->{type_name};\n\n            } else {\n               $info{$db_name}->{$tab_name}->{$col_name}->{col_usertype} = undef;\n\n            }\n\n\n         }\n\n         @{ $info{$db_name}->{$tab_name}->{__COLNAMES__} } =\n         sort { $info{$db_name}->{$tab_name}->{$a}->{col_id} <=>\n                $info{$db_name}->{$tab_name}->{$b}->{col_id} \n              } keys %{ $info{$db_name}->{$tab_name} };\n\n      }\n\n\n      return %info;\n   }",
      "file" : "/var/tmp/arv_8g2Zqd/Sybase-Xfer-0.63/ObjectInfo.pm",
      "package" : "Sybase::ObjectInfo"
   },
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub sx_run_shell_cmd {\n        return system( +shift );\n    }",
      "file" : "/var/tmp/arv_8g2Zqd/Sybase-Xfer-0.63/Xfer.pm",
      "package" : "Sybase::Xfer"
   }
]
