[
   {
      "PPI" : "PPI::Statement (but very likely crap)",
      "bad" : "DESTROY {\n    my $self = shift;\n    $_->close for grep { defined $_ } @{ $self->connections };\n    $self->server_close;\n}\n\n\nsub connections {\n    my $self = shift;\n    return [ values %{$self->{connection}} ];\n}\n\n\nsub connection {\n    my $class = shift;\n    my $self  = ref $class ? $class : $Net::IMAP::Server::Server;\n    if (@_) {\n        if (defined $_[0]) {\n            $self->{connection}{$Coro::current . \"\"} = shift;\n        } else {\n            delete $self->{connection}{$Coro::current . \"\"};\n        }\n    }\n    return $self->{connection}{$Coro::current . \"\"};\n}\n\n\nsub concurrent_mailbox_connections {\n    my $class    = shift;\n    my $self     = ref $class ? $class : $Net::IMAP::Server::Server;\n    my $selected = shift || $self->connection->selected;\n\n    return () unless $selected;\n    return\n        grep { $_->is_auth and $_->is_selected and $_->selected eq $selected }\n        @{ $self->connections };\n}\n\n\nsub concurrent_user_connections {\n    my $class = shift;\n    my $self  = ref $class ? $class : $Net::IMAP::Server::Server;\n    my $user  = shift || $self->connection->auth->user;\n\n    return () unless $user;\n    return\n        grep { $_->is_auth and $_->auth->user eq $user }\n        @{ $self->connections };\n}\n\n\nsub capability {\n    my $self = shift;\n    return \"IMAP4rev1 STARTTLS CHILDREN LITERAL+ UIDPLUS ID NAMESPACE\";\n}\n\n\nsub id {\n    return (\n        name    => \"Net-IMAP-Server\",\n        version => $Net::IMAP::Server::VERSION,\n    );\n}\n\n\nsub add_command {\n    my $self = shift;\n    my ($name, $package) = @_;\n    if (not $package->require) {\n        $self->log( 1, $@ );\n    } elsif (not $package->isa('Net::IMAP::Server::Command')) {\n        $self->log( 1, \"$package is not a Net::IMAP::Server::Command!\" );\n    } else {\n        $self->command_class->{uc $name} = $package;\n    }\n}\n\n\n1",
      "file" : "/var/tmp/arv_v5Dc5B/Net-IMAP-Server-1.36/lib/Net/IMAP/Server.pm",
      "package" : "Net::IMAP::Server"
   }
]
