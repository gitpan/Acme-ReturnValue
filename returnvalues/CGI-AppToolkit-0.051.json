[
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub _clean_vars {\n\tmy $vars = ref $_[0] eq 'HASH' ? shift : {@_};\n\t\n\tforeach my $key (keys %$vars) {\n\t\tmy $oldkey = $key;\n\t\t$key =~ s/^-//;\n\t\t$key = lc $key;\n\t\t$vars->{$key} = delete $vars->{$oldkey} if $key ne $oldkey;\n\t}\n\t\n\treturn $vars;\n}",
      "file" : "/var/tmp/arv_TOd_qO/CGI-AppToolkit-0.051/lib/CGI/AppToolkit.pm",
      "package" : "CGI::AppToolkit"
   },
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub _make_where {\n\tmy $self = shift;\n\tmy $args = shift;\n\tmy $name = shift;\n\tmy $order = shift;\n\tmy $sql  = '';\n\t\n\tif ($name ne '-all') {\n\t\t$sql .= ' where ';\n\t\t\n\t\tmy @where = ();\n\t\t\n\t\tforeach my $key (sort keys %$args) {\n\t\t\tnext if $key =~ /^-/;\n\n\t\t\tif (ref $args->{$key} eq 'ARRAY') {\n\t\t\t\tif (lc $args->{$key}[0] eq 'in') {\n\t\t\t\t\tpush @where,  \"$key $args->{$key}[0] (\" . join(', ', ('?') x (scalar(@{$args->{$key}}) - 1)) . \")\";\n\t\t\t\t} else {\n\t\t\t\t\tpush @where,  \"$key $args->{$key}[0] ?\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tpush @$order, $key;\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tpush @where,  \"$key = ?\";\n\t\t\t\tpush @$order, $key;\n\t\t\t}\n\t\t}\n\t\t\n\t\t$sql .= join ' and ', @where;\n\t}\n\t\n\t$sql\n}",
      "file" : "/var/tmp/arv_TOd_qO/CGI-AppToolkit-0.051/lib/CGI/AppToolkit/Data/SQLObject.pm",
      "package" : "CGI::AppToolkit::Data::SQLObject"
   }
]
