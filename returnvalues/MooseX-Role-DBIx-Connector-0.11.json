[
   {
      "PPI" : "PPI::Statement (but very likely crap)",
      "bad" : "role {\n\n    my $p        = shift;\n    my $conn     = $p->connection_name;\n    my $desc     = $p->connection_description;\n    my $opts     = $p->accessor_options;\n\n    has \"${conn}_dsn\" => (\n        documentation => \"DBI dsn for connecting to the $desc\",\n        isa           => 'Str',\n        is            => 'ro',\n        required      => 1,\n        @{ $opts->{$conn.'_dsn'} || [] },\n       );\n    has \"${conn}_user\" => (\n        documentation  => \"username for connecting to the $desc\",\n        isa            => 'Str',\n        is             => 'ro',\n        @{ $opts->{\"${conn}_user\"} || [] },\n       );\n    has \"${conn}_password\" => (\n        documentation => \"password for connecting to the $desc\",\n        isa           => 'Str',\n        is            => 'ro',\n        @{ $opts->{\"${conn}_password\"} || [] },\n       );\n\n    has \"${conn}_attrs\" => (\n        documentation => \"hashref of DBI attributes for connecting to $desc\",\n        is            => 'ro',\n        isa           => 'HashRef',\n        default       => sub { {} },\n        @{ $opts->{\"${conn}_attrs\"} || [] },\n       );\n\n    has \"${conn}_conn\" => (\n        is         => 'ro',\n        isa        => 'DBIx::Connector',\n        lazy_build => 1,\n        @{ $opts->{\"${conn}_conn\"} || [] },\n       );\n\n    method \"_build_${conn}_conn\" => sub {\n        my ($self) = @_;\n\n        no strict 'refs';\n\n        return DBIx::Connector->new(\n            $self->{\"${conn}_dsn\"},\n            $self->{\"${conn}_user\"},\n            $self->{\"${conn}_password\"},\n            $self->{\"${conn}_attrs\"},\n           );\n    };\n\n}",
      "file" : "/var/tmp/arv_bIfMnF/MooseX-Role-DBIx-Connector-0.11/lib/MooseX/Role/DBIx/Connector.pm",
      "package" : "MooseX::Role::DBIx::Connector"
   }
]
