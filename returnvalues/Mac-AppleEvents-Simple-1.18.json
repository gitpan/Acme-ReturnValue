[
   {
      "PPI" : "PPI::Statement (but very likely crap)",
      "bad" : "DESTROY {\n\tmy $self = shift;\n\tlocal $^E;\t\n\tunless ($self->{HANDLER}) {\n\t\tAEDisposeDesc $self->{EVT} if $self->{EVT};\n\t\tAEDisposeDesc $self->{REP} if $self->{REP};\n\t}\n}\n\n\nEND {\n\tforeach my $desc (keys %DESCS) {\n\t\tprint \"Destroying $desc\\n\" if $DEBUG;\n\t\tif ($desc) {\n\t\t\teval { print \"\\t\", AEPrint($DESCS{$desc}), \"\\n\" } if $DEBUG;\n\t\t\tAEDisposeDesc $DESCS{$desc} or warn \"Can't dispose $desc: $MacError\";\n\t\t}\n\t}\n}\n\n\nBEGIN {\n\t%AE_GET = (\n\t\ttypeComp()\t\t\t=> sub {\n\t\t\treturn _get_coerce($_[0], typeFloat);\n\t\t},\n\n\t\ttypeAlias()\t\t\t=> sub {\n\t\t\tmy $alis = $_[0]->data;\n\t\t\tmy $return = ResolveAlias($alis) or die \"Can't resolve alias: $MacError\";\n\t\t\t$alis->dispose;\n\t\t\treturn $return;\n\t\t},\n\n\t\ttypeObjectSpecifier()\t\t=> sub {\n\t\t\t$DESCS{ $_[0] } = $_[0];\n\t\t\treturn($_[0], 1);\n\t\t},\n\n\t\ttypeAEList()\t\t\t=> sub {\n\t\t\tmy $list = $_[0];\n\t\t\tmy @data;\n\t\t\tfor (1 .. AECountItems($list)) {\n\t\t\t\tmy $d = AEGetNthDesc($list, $_) or die \"Can't get desc: $MacError\";\n\t\t\t\tpush @data, _getdata($d);\n\t\t\t}\n\t\t\treturn \\@data;\n\t\t},\n\n\t\ttypeAERecord()\t\t\t=> sub {\n\t\t\tmy $reco = $_[0];\n\t\t\tmy %data;\n\t\t\tfor (1 .. AECountItems($reco)) {\n\t\t\t\tmy @d = AEGetNthDesc($reco, $_) or die \"Can't get desc: $MacError\";\n\t\t\t\t$data{$d[1]} = _getdata($d[0]);\n\t\t\t}\n\t\t\treturn \\%data;\n\t\t},\n\n\t\ttypeProcessSerialNumber() \t=> sub {\n\t\t\tmy $handle = $_[0]->data;\n\t\t\tmy $num = $handle->get;\n\t\t\t$handle->dispose;\n\t\t\tmy $psn = join '', unpack 'LL', $num;\n\t\t\t$psn =~ s/^0+//;\n\t\t\treturn $psn;\n\t\t},\n\n\t\ttypeLongDateTime() \t\t=> sub {\n\t\t\tmy $handle = $_[0]->data;\n\t\t\tmy $num = $handle->get;\n\t\t\t$handle->dispose;\n\t\t\tmy($ldt) = grep $_, unpack 'LL', $num;\n\t\t\treturn $^O eq 'MacOS' ? $ldt : epoch2perl($ldt, 'macos');\n\t\t},\n\n\t\ttypeStyledText()\t\t=> sub {\n\t\t\treturn _get_coerce($_[0], typeChar);\n\t\t},\n\n\t\ttypeQDPoint()\t\t\t=> sub {\n\t\t\tmy $handle = $_[0]->data;\n\t\t\tmy $point = $handle->get;\n\t\t\t$handle->dispose;\n\t\t\treturn [reverse unpack \"s4s4\", $point];\n\t\t},\n\n\t\ttypeQDRectangle()\t\t=> sub {\n\t\t\treturn [ ($_[0]->get)[1,0,3,2] ];\n\t\t},\n\n\t);\n\n\t%AE_GET = (%AE_GET,\n\t\ttypeUnicodeText()\t=> $AE_GET{typeStyledText()},\n\t\ttypeIntlText()\t\t=> $AE_GET{typeStyledText()},\n\t\ttypeAEText()\t\t=> $AE_GET{typeStyledText()},\n\t);\n\n}\n\nsub _get_coerce {\n\tmy $data = AECoerceDesc(@_) or die $^E+0;\n\treturn $data->get;\n}\n\n1",
      "file" : "/var/tmp/arv_q8cNq0/Mac-AppleEvents-Simple-1.18/Simple.pm",
      "package" : "Mac::AppleEvents::Simple"
   }
]
