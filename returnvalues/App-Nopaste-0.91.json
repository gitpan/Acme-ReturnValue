[
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub return {\n    my $self = shift;\n    my $mech = shift;\n\n    my $link = $mech->find_link(url_regex => qr{/?(?:\\d+)$});\n\n    return (0, \"Could not find paste link.\") if !$link;\n    return (1, $link->url);\n}\n\n\n1",
      "file" : "/var/tmp/arv_N45ZFB/App-Nopaste-0.91/lib/App/Nopaste/Service.pm",
      "package" : "App::Nopaste::Service"
   },
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub return {\n    my $self = shift;\n    my $mech = shift;\n\n    my $prefix ='';\n    my ($id) = $mech->title =~ /\\#(\\d+)/;\n    if (!$id) {\n        ($id) = $mech->content =~ m{http://pastie.org/\\d+/wrap\\?key=([a-z0-9]+)};\n        $prefix = 'private/';\n    }\n    return (0, \"Could not construct paste link.\") if !$id;\n    return (1, \"http://pastie.org/$prefix$id\");\n}\n\n1",
      "file" : "/var/tmp/arv_N45ZFB/App-Nopaste-0.91/lib/App/Nopaste/Service/Pastie.pm",
      "package" : "App::Nopaste::Service::Pastie"
   },
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub return {\n    my $self = shift;\n    my $mech = shift;\n\n    my $link = $mech->uri();\n\n    return (1, $link);\n}\n\n1",
      "file" : "/var/tmp/arv_N45ZFB/App-Nopaste-0.91/lib/App/Nopaste/Service/Ubuntu.pm",
      "package" : "App::Nopaste::Service::Ubuntu"
   },
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub return {\n    my ($self, $res) = @_;\n\n    if ($res->is_error) {\n        my $text = $res->status_line;\n        if ($res->code == 401) {\n            $text .= \"\\nYou may need to authorize $0. See `perldoc \" . __PACKAGE__ . \"`\";\n        }\n        return (0, \"Failed: \" . $text);\n    }\n\n    if (($res->header('Client-Warning') || '') eq 'Internal response') {\n      return (0, \"LWP Error: \" . $res->content);\n    }\n\n    my $id = JSON::decode_json($res->content)->{id};\n\n    return (0, \"Could not find paste link.\") if !$id;\n    return (1, \"http://gist.github.com/$id\");\n}\n\n1",
      "file" : "/var/tmp/arv_N45ZFB/App-Nopaste-0.91/lib/App/Nopaste/Service/Gist.pm",
      "package" : "App::Nopaste::Service::Gist"
   },
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub return {\n    my $self = shift;\n    my $mech = shift;\n\n    my $link = $mech->uri();\n\n    return (1, $link);\n}\n\n1",
      "file" : "/var/tmp/arv_N45ZFB/App-Nopaste-0.91/lib/App/Nopaste/Service/Debian.pm",
      "package" : "App::Nopaste::Service::Debian"
   },
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub return {\n    my $self = shift;\n    my $mech = shift;\n\n    my $link = $mech->find_link( text_regex => qr#^http://codepeek.com/paste/[a-z0-9]+$#i );\n    my $url = $link->url;\n    return (0, \"Could not construct paste link.\") if !$url;\n    return (1, $url);\n}\n\n1",
      "file" : "/var/tmp/arv_N45ZFB/App-Nopaste-0.91/lib/App/Nopaste/Service/Codepeek.pm",
      "package" : "App::Nopaste::Service::Codepeek"
   }
]
