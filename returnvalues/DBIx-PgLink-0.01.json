[
   {
      "PPI" : "PPI::Statement (but very likely crap)",
      "bad" : "method 'build_procedure' => named(\n  local_schema     => {isa=>'Str', required=>1},\n  remote_catalog   => {isa=>'StrNull'},\n  remote_schema    => {isa=>'StrNull'},\n  remote_object    => {isa=>'Str', required=>1},\n  local_object     => {isa=>'Str', required=>0},\n  column_info      => {isa=>'PostgreSQLArray', coerce=>1, required=>1},\n) => sub {\n  my ($self, $p) = @_;\n\n  $p->{remote_object_type} = 'PROCEDURE';\n\n  my $class = $self->accessor_class_for->{'PROCEDURE'} \n   or die \"PROCEDURE accessor is not installed\";\n\n  my $obj = $self->adapter->routine_info_arrayref(\n    $p->{remote_catalog},\n    $p->{remote_schema},\n    $p->{remote_object},\n    $p->{remote_object_type},\n  );\n  \n  die \"Procedure $p->{remote_object} not found\\n\"\n    if !defined($obj);\n  die \"Procedure $p->{remote_object} not found\\n\"\n    if @{$obj} == 0;\n  die \"Multiple objects found: \" \n    . join(', ', map { \n        $self->adapter->quote_identifier(\n          $_->{SPECIFIC_CATALOG},\n          $_->{SPECIFIC_SCHEMA},\n          $_->{SPECIFIC_NAME}\n        )\n      } @{$obj}) . \"\\n\" \n    if @{$obj} > 1;\n\n  my $accessor = $class->new_from_remote_metadata({\n    %{$obj->[0]},\n    connector    => $self,\n    local_schema => $p->{local_schema},\n    local_object => $p->{local_object} || $obj->{ROUTINE_NAME},\n  });\n\n  my $columns = DBIx::PgLink::Accessor::RoutineColumns->new( parent=>$accessor, metadata=>[] );\n  my @ci = @{$p->{column_info}};\n  my $index = 1;\n  while (@ci) {\n    my $name = shift @ci;\n    my $type = shift @ci;\n    my $c = $columns->create_column_metadata({\n      COLUMN_NAME      => $name,\n      TYPE_NAME        => $type,\n      ORDINAL_POSITION => $index++,\n      NULLABLE         => 'YES',\n    });\n    push @{$columns->metadata}, $c;\n  }\n\n  $accessor->columns($columns);\n\n  $accessor->build;\n}",
      "file" : "/var/tmp/arv_Ndetie/DBIx-PgLink-0.01/lib/DBIx/PgLink/Connector/Roles/SQLServerProc.pm",
      "package" : "DBIx::PgLink::Connector::Roles::SQLServerProc"
   }
]
