[
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub send {\n  my $self=shift;\n  my $cmd=shift; \n  my $sth = $self->{'dbh'}->prepare($cmd);\n  if (!$sth) {\n    confess \"Error preparing $cmd: \" .$cmd.':'. $sth->errstr . \"\\n\";\n  }\n  if (!$sth->execute) {\n    confess \"Error executing $cmd:\" . $sth->errstr . \"\\n\";\n  }\n   \nmake_log($cmd,$self->getname(),$self->getlogfile);\t\n$_=$cmd;\n        if ((m/select/i) && (!(m/nextval/i))) {\t\t\n        my $sth2=$self->{'dbh'}->prepare( \"select count(*) from (\" .$cmd.\")\");\n        $sth2->execute;\n        my $num=$sth2->fetchrow_array;\n        $self->{'hitsnum'}=$num;\n        }\n$sth;\n}",
      "file" : "/var/tmp/arv_IHx3G1/DBIx-HTMLView-0.9/HTMLView/OracleDB.pm",
      "package" : "DBIx::HTMLView::OracleDB"
   },
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub sql_data_array {shift->sql_data(@_)}",
      "file" : "/var/tmp/arv_IHx3G1/DBIx-HTMLView-0.9/HTMLView/Fld.pm",
      "package" : "DBIx::HTMLView::Fld"
   },
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub default_fmt {\n  my ($self, $kind)=@_;\n  if (defined $kind && $kind eq 'edit_html') {\n    return '<InRel><perl>$self->view_fmt_edit_html(\"view_html\")</perl>';\n  }\n\n  return DBIx::HTMLView::Relation::default_fmt(@_)\n}",
      "file" : "/var/tmp/arv_IHx3G1/DBIx-HTMLView-0.9/HTMLView/Tree.pm",
      "package" : "DBIx::HTMLView::Tree"
   },
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub sql_create_table {\n  my ($self, $table)=@_;\n  DBIx::HTMLView::DB::sql_create_table($self, $table);\n   $self->send(\"CREATE UNIQUE  INDEX idx1 ON \" . $table->name . \"(\" . \n              $table->id->name . \")\");\n  $self->send(\"CREATE SEQUENCE ON \" . $table->name . \" STEP 1\");\n}",
      "file" : "/var/tmp/arv_IHx3G1/DBIx-HTMLView-0.9/HTMLView/msqlDB.pm",
      "package" : "DBIx::HTMLView::msqlDB"
   },
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub sql_create {my $self=shift; $self->db->sql_type(\"Id\",$self)}",
      "file" : "/var/tmp/arv_IHx3G1/DBIx-HTMLView-0.9/HTMLView/Id.pm",
      "package" : "DBIx::HTMLView::Id"
   },
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub sql_create {my $self=shift;$self->db->sql_type(\"Int\",$self)}",
      "file" : "/var/tmp/arv_IHx3G1/DBIx-HTMLView-0.9/HTMLView/Int.pm",
      "package" : "DBIx::HTMLView::Int"
   },
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub sql_join {\n  my ($self, $sel)=@_;\n\n  $sel->add_tab($self->to_tab_name);\n  return $self->to_tab_name . \".\" . $self->to_tab->id->name .\n        \"=\" . $self->tab->name . \".\" . $self->name;\n}",
      "file" : "/var/tmp/arv_IHx3G1/DBIx-HTMLView-0.9/HTMLView/N2One.pm",
      "package" : "DBIx::HTMLView::N2One"
   },
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub view_fmt_code{DBIx::HTMLView::Fld::view_fmt_code(@_)}",
      "file" : "/var/tmp/arv_IHx3G1/DBIx-HTMLView-0.9/HTMLView/N2NOrder.pm",
      "package" : "DBIx::HTMLView::N2NOrder"
   },
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub name_vals {\n  my ($self)=@_;\n\n  if (!$self->got_val) {\n    my $maxp=$self->tab->list(undef, 'order by ' . $self->name.' desc')->first;\n    if (defined $maxp) {\n      $self->{'val'}=$maxp->fld($self->name)->val+1;\n    } else {\n      $self->{'val'}=1;\n    }\n  }\n\n  DBIx::HTMLView::Int::name_vals(@_);\n}",
      "file" : "/var/tmp/arv_IHx3G1/DBIx-HTMLView-0.9/HTMLView/Order.pm",
      "package" : "DBIx::HTMLView::Order"
   },
   {
      "PPI" : "PPI::Statement::Sub",
      "bad" : "sub view_html {\n  my ($self)=@_;\n  my $tab=$self->tab;\n  my $res=\"\";\n\n \n  my $ocb;\n  foreach ($tab->fld_names()) {\n    $ocb=$self->tab->fld($_)->get_onChange();\n    $res.=$ocb; \n  }       \n  $res.=$self->tab->get_JSonSubmit();\n\n\n  $res.=\"<form method=POST action=\" . $self->script_name . \"><dl>\";\n  $res.= \"<input type=hidden name=_Action value=update>\";\n  if ($self->got_cgi && defined $self->cgi->param('_done2')) {\n    $res.= '<input type=hidden name=_done value=\"' . $self->cgi->param('_done2') . '\">';\n  }\n\n  my $okbutt;\n  if ($tab->get_JSonSubmit_name() eq \"\") {\n    $okbutt.='<input type=submit value=OK>';\n  } else {\n    $okbutt.='<input type=\"button\" onclick=\"'.$tab->get_JSonSubmit_name().\n      '\" value=OK>';\n  }\n  \n\n\n  $res.=\"<table border=2>\";\n  $res.=$okbutt;\n  foreach ($self->tab->fld_names) {\n    if (!($_ =~ $self->read_only) && !($self->got_cgi && $_ eq $self->cgi->param('_SubEditFld'))) {\n      $res.= \"<tr><td valign=top>\";\n      $res .=\"<b>$_ </b></td><td>\".$self->post->fld($_)->edit_html;\n      $res .=\"</td></tr>\";\n    }\n  }\n  $res.=\"</table><br>\";\n  $res.= $self->form_data;\n  $res.='</dl><BR><B>Click here to submit changes:</B>';\n  $res.=  $self->{'extra_form_data'};\n  if ($self->got_cgi) {\n    $res.= '<input type=hidden name=\"'.$self->cgi->param('_SubEditFld').\n      '\" value=\"'.$self->cgi->param('_SubEditVal').'\">';\n  }\n\n  $res.=$okbutt;\n\n  $res.=\"</from>\";\n  $res;\n}",
      "file" : "/var/tmp/arv_IHx3G1/DBIx-HTMLView-0.9/HTMLView/CGIReqEdit.pm",
      "package" : "DBIx::HTMLView::CGIReqEdit"
   }
]
